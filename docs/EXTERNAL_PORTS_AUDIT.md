# Аудит портов, доступных извне

**Дата:** февраль 2026

## Итог

| Порт | Сервис    | Слушает на   | Доступ извне | Проверка curl        |
|------|-----------|--------------|--------------|------------------------|
| 3000 | Admin UI  | **0.0.0.0**  | ✅ Да        | 200 OK                 |
| 8000 | API       | 127.0.0.1   | ❌ Нет       | unreachable            |
| 8001 | Cleanup   | 127.0.0.1   | ❌ Нет       | —                      |
| 5432 | PostgreSQL| 127.0.0.1   | ❌ Нет       | Connection refused     |
| 6379 | Redis     | 127.0.0.1   | ❌ Нет       | —                      |

**Worker и Bot** — портов не публикуют, работают только внутри Docker-сети.

---

## Что «торчит» наружу

**Единственный сервис, доступный из интернета:** **Admin UI на порту 3000**.

- Слушает на `0.0.0.0:3000` (все интерфейсы).
- Проверка: `http://45.14.245.43:3000/` → **200 OK**.
- Вся работа с API идёт через этот же хост по пути `/api` (прокси в nginx).

Остальное (API, БД, Redis, Cleanup) привязаны к **127.0.0.1** — доступны только с самого сервера (localhost).

---

## Рекомендации

1. **Сейчас:** извне доступна только админка (3000) — конфигурация корректна.
2. **HTTPS:** в продакшене перед 3000 стоит поставить reverse proxy (nginx/caddy) с TLS и закрыть прямой доступ к порту 3000 с интернета, оставив только 443.
3. **SSH (22):** слушает на 0.0.0.0 — это системный сервис, не из docker-compose; при необходимости ограничьте доступ (firewall, Fail2Ban, ключи).

---

*Проверка выполнена по выводу `ss -tlnp` и curl к внешнему IP.*
